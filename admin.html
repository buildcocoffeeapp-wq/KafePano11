<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#667eea">
  <title>YÃ¶netim - KafePano</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>â˜•</text></svg>">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="loading-spinner"></div>
  </div>

  <!-- Header -->
  <header class="admin-header">
    <div class="header-content">
      <div class="header-title">
        <span>â˜•</span>
        <h1>KafePano YÃ¶netim</h1>
      </div>
      <div class="header-actions">
        <a href="index.html" class="btn-icon" title="Panoyu GÃ¶rÃ¼ntÃ¼le">ğŸ“º</a>
        <button class="btn-icon" onclick="logout()" title="Ã‡Ä±kÄ±ÅŸ">ğŸšª</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="admin-content">
    
    <!-- Calendar Section -->
    <section class="widget-section">
      <div class="widget-section-header">
        <div class="widget-section-title">
          <span class="widget-section-icon">ğŸ“…</span>
          <span class="widget-section-name">Takvim / Etkinlikler</span>
        </div>
        <div class="widget-section-toggle">
          <label class="toggle-switch">
            <input type="checkbox" id="calendarToggle" class="widget-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      <div class="widget-section-content">
        <div id="eventList" class="item-list"></div>
        <button class="btn-add" onclick="showEventModal()">
          â• Etkinlik Ekle
        </button>
      </div>
    </section>

    <!-- Gallery Section -->
    <section class="widget-section">
      <div class="widget-section-header">
        <div class="widget-section-title">
          <span class="widget-section-icon">ğŸ–¼ï¸</span>
          <span class="widget-section-name">FotoÄŸraf Galerisi</span>
        </div>
        <div class="widget-section-toggle">
          <label class="toggle-switch">
            <input type="checkbox" id="galleryToggle" class="widget-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      <div class="widget-section-content">
        <div id="photoList" class="item-list"></div>
        <button class="btn-add" onclick="showPhotoModal()">
          â• FotoÄŸraf Ekle
        </button>
      </div>
    </section>

    <!-- Announcements Section -->
    <section class="widget-section">
      <div class="widget-section-header">
        <div class="widget-section-title">
          <span class="widget-section-icon">ğŸ“¢</span>
          <span class="widget-section-name">Duyurular</span>
        </div>
        <div class="widget-section-toggle">
          <label class="toggle-switch">
            <input type="checkbox" id="announcementToggle" class="widget-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      <div class="widget-section-content">
        <div id="announcementList" class="item-list"></div>
        <button class="btn-add" onclick="showAnnouncementModal()">
          â• Duyuru Ekle
        </button>
      </div>
    </section>

    <!-- Menu Section -->
    <section class="widget-section">
      <div class="widget-section-header">
        <div class="widget-section-title">
          <span class="widget-section-icon">ğŸ½ï¸</span>
          <span class="widget-section-name">MenÃ¼</span>
        </div>
        <div class="widget-section-toggle">
          <label class="toggle-switch">
            <input type="checkbox" id="menuToggle" class="widget-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      <div class="widget-section-content">
        <div id="menuList" class="item-list"></div>
        <button class="btn-add" onclick="showMenuModal()">
          â• MenÃ¼ Ekle
        </button>
      </div>
    </section>

    <!-- Settings Section -->
    <section class="widget-section">
      <div class="widget-section-header">
        <div class="widget-section-title">
          <span class="widget-section-icon">âš™ï¸</span>
          <span class="widget-section-name">Genel Ayarlar</span>
        </div>
      </div>
      <div class="widget-section-content">
        <form id="settingsForm">
          <!-- Kafe AdÄ± ve Logo -->
          <div class="form-group">
            <label for="cafeName">Kafe AdÄ±</label>
            <input type="text" id="cafeName" placeholder="Kafe adÄ±nÄ±z">
          </div>
          
          <!-- Logo YÃ¼kleme -->
          <div class="form-group">
            <label>Logo</label>
            <div class="logo-upload-container">
              <div id="logoPreviewContainer" class="logo-preview-container">
                <img id="logoPreview" src="" alt="Logo" style="display: none;">
                <div id="logoPlaceholder" class="logo-placeholder">
                  <span>â˜•</span>
                  <small>Logo yÃ¼kleyin</small>
                </div>
              </div>
              <div class="logo-upload-actions">
                <label class="btn-upload-logo">
                  <input type="file" id="logoInput" accept="image/png, image/jpeg, image/jpg, image/webp" style="display: none" onchange="handleLogoUpload(this)">
                  ğŸ“· Logo SeÃ§
                </label>
                <button type="button" class="btn-remove-logo" id="removeLogoBtn" onclick="removeLogo()" style="display: none;">
                  ğŸ—‘ï¸ KaldÄ±r
                </button>
              </div>
              <small class="logo-hint">PNG, JPG formatlarÄ± desteklenir (Maks. 2MB)</small>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="themeSelect">Tema</label>
              <select id="themeSelect">
                <option value="light">AÃ§Ä±k</option>
                <option value="dark">Koyu</option>
              </select>
            </div>
            <div class="form-group">
              <label for="primaryColor">Ana Renk</label>
              <div class="color-picker-wrapper">
                <input type="color" id="primaryColor" class="color-picker" value="#8B4513" oninput="syncColorInputs('picker')">
                <input type="text" id="primaryColorHex" class="color-hex-input" value="#8B4513" placeholder="#RRGGBB" maxlength="7" oninput="syncColorInputs('hex')">
              </div>
            </div>
          </div>

          <div class="settings-group">
            <div class="settings-group-title">Widget AyarlarÄ±</div>
            
            <div class="settings-item">
              <span class="settings-item-label">â° Saat FormatÄ±</span>
              <select id="clockFormat" style="width: 100px;">
                <option value="24h">24 Saat</option>
                <option value="12h">12 Saat</option>
              </select>
            </div>
            
            <div class="settings-item">
              <span class="settings-item-label">ğŸŒ¤ï¸ Hava Durumu Åehri</span>
              <select id="weatherCity" style="width: 120px;">
                <option value="Istanbul">Ä°stanbul</option>
                <option value="Ankara">Ankara</option>
                <option value="Izmir">Ä°zmir</option>
                <option value="Bursa">Bursa</option>
                <option value="Antalya">Antalya</option>
                <option value="Adana">Adana</option>
                <option value="Konya">Konya</option>
                <option value="Gaziantep">Gaziantep</option>
                <option value="Mersin">Mersin</option>
                <option value="Kayseri">Kayseri</option>
              </select>
            </div>
            
            <div class="settings-item">
              <span class="settings-item-label">ğŸ–¼ï¸ Slayt SÃ¼resi (sn)</span>
              <input type="number" id="galleryInterval" value="5" min="3" max="30" style="width: 80px;">
            </div>

            <div class="settings-item">
              <span class="settings-item-label">ğŸŒ¤ï¸ Hava Durumu</span>
              <label class="toggle-switch">
                <input type="checkbox" id="weatherToggle" class="widget-toggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="settings-item">
              <span class="settings-item-label">â° Saat</span>
              <label class="toggle-switch">
                <input type="checkbox" id="clockToggle" class="widget-toggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <button type="submit" class="btn-add">
            ğŸ’¾ AyarlarÄ± Kaydet
          </button>
        </form>
      </div>
    </section>

  </main>

  <!-- Event Modal -->
  <div id="eventModal" class="modal-overlay" onclick="if(event.target === this) hideEventModal()">
    <div class="modal">
      <div class="modal-header">
        <h3 id="eventModalTitle" class="modal-title">Yeni Etkinlik</h3>
        <button class="modal-close" onclick="hideEventModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <form id="eventForm">
          <div class="form-group">
            <label for="eventTitle">Etkinlik AdÄ± *</label>
            <input type="text" id="eventTitle" placeholder="Ã–rn: CanlÄ± MÃ¼zik" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="eventDate">Tarih *</label>
              <input type="date" id="eventDate" required>
            </div>
            <div class="form-group">
              <label for="eventTime">Saat *</label>
              <input type="time" id="eventTime" required>
            </div>
          </div>
          <div class="form-group">
            <label for="eventDescription">AÃ§Ä±klama</label>
            <textarea id="eventDescription" placeholder="Opsiyonel aÃ§Ä±klama"></textarea>
          </div>
          <div class="form-group">
            <label for="eventIcon">Ä°kon</label>
            <select id="eventIcon">
              <option value="ğŸ“Œ">ğŸ“Œ Genel</option>
              <option value="ğŸµ">ğŸµ MÃ¼zik</option>
              <option value="ğŸ¤">ğŸ¤ Mikrofon</option>
              <option value="ğŸ‚">ğŸ‚ DoÄŸum GÃ¼nÃ¼</option>
              <option value="ğŸ‰">ğŸ‰ Parti</option>
              <option value="â˜•">â˜• Kahve</option>
              <option value="ğŸ•">ğŸ• Yemek</option>
              <option value="ğŸ“š">ğŸ“š Kitap</option>
              <option value="ğŸ®">ğŸ® Oyun</option>
              <option value="ğŸ¬">ğŸ¬ Film</option>
              <option value="ğŸ’¼">ğŸ’¼ ToplantÄ±</option>
              <option value="ğŸ§˜">ğŸ§˜ Yoga</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" onclick="hideEventModal()">Ä°ptal</button>
        <button class="btn btn-save" onclick="saveEvent()">Kaydet</button>
      </div>
    </div>
  </div>

  <!-- Photo Modal -->
  <div id="photoModal" class="modal-overlay" onclick="if(event.target === this) hidePhotoModal()">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">FotoÄŸraf Ekle</h3>
        <button class="modal-close" onclick="hidePhotoModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <form id="photoForm">
          <div class="form-group">
            <label>FotoÄŸraf SeÃ§</label>
            <label class="image-upload">
              <input type="file" accept="image/*" style="display: none" onchange="handlePhotoUpload(this)">
              <div class="image-upload-icon">ğŸ“·</div>
              <div class="image-upload-text">TÄ±klayÄ±p fotoÄŸraf seÃ§in</div>
            </label>
            <div id="photoPreview"></div>
          </div>
          <div class="form-group">
            <label for="photoUrl">veya URL yapÄ±ÅŸtÄ±rÄ±n</label>
            <input type="url" id="photoUrl" placeholder="https://...">
          </div>
          <div class="form-group">
            <label for="photoCaption">Alt YazÄ± (Opsiyonel)</label>
            <input type="text" id="photoCaption" placeholder="FotoÄŸraf aÃ§Ä±klamasÄ±">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" onclick="hidePhotoModal()">Ä°ptal</button>
        <button class="btn btn-save" onclick="savePhoto()">Ekle</button>
      </div>
    </div>
  </div>

  <!-- Announcement Modal -->
  <div id="announcementModal" class="modal-overlay" onclick="if(event.target === this) hideAnnouncementModal()">
    <div class="modal">
      <div class="modal-header">
        <h3 id="announcementModalTitle" class="modal-title">Yeni Duyuru</h3>
        <button class="modal-close" onclick="hideAnnouncementModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <form id="announcementForm">
          <div class="form-group">
            <label for="announcementText">Duyuru Metni *</label>
            <textarea id="announcementText" placeholder="Ã–rn: WiFi Åifresi: kafe2026" required></textarea>
          </div>
          <div class="form-group">
            <label for="announcementPriority">Ã–ncelik</label>
            <select id="announcementPriority">
              <option value="normal">Normal</option>
              <option value="high">YÃ¼ksek (KÄ±rmÄ±zÄ± Ä°kon)</option>
            </select>
          </div>
          <div class="settings-item">
            <span class="settings-item-label">Aktif</span>
            <label class="toggle-switch">
              <input type="checkbox" id="announcementActive" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" onclick="hideAnnouncementModal()">Ä°ptal</button>
        <button class="btn btn-save" onclick="saveAnnouncement()">Kaydet</button>
      </div>
    </div>
  </div>

  <!-- Menu Modal -->
  <div id="menuModal" class="modal-overlay" onclick="if(event.target === this) hideMenuModal()">
    <div class="modal">
      <div class="modal-header">
        <h3 id="menuModalTitle" class="modal-title">Yeni MenÃ¼</h3>
        <button class="modal-close" onclick="hideMenuModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <form id="menuForm">
          <div class="form-group">
            <label for="menuName">ÃœrÃ¼n AdÄ± *</label>
            <input type="text" id="menuName" placeholder="Ã–rn: GÃ¼nÃ¼n Ã‡orbasÄ±" required>
          </div>
          <div class="form-group">
            <label for="menuDescription">AÃ§Ä±klama</label>
            <input type="text" id="menuDescription" placeholder="Ã–rn: Mercimek">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="menuPrice">Fiyat *</label>
              <input type="text" id="menuPrice" placeholder="45â‚º" required>
            </div>
            <div class="form-group">
              <label for="menuIcon">Ä°kon</label>
              <select id="menuIcon">
                <option value="ğŸ½ï¸">ğŸ½ï¸ Genel</option>
                <option value="â˜•">â˜• Kahve</option>
                <option value="ğŸµ">ğŸµ Ã‡ay</option>
                <option value="ğŸ¥¤">ğŸ¥¤ Ä°Ã§ecek</option>
                <option value="ğŸœ">ğŸœ Ã‡orba</option>
                <option value="ğŸ¥—">ğŸ¥— Salata</option>
                <option value="ğŸ">ğŸ Makarna</option>
                <option value="ğŸ•">ğŸ• Pizza</option>
                <option value="ğŸ”">ğŸ” Burger</option>
                <option value="ğŸ¥ª">ğŸ¥ª SandviÃ§</option>
                <option value="ğŸ°">ğŸ° TatlÄ±</option>
                <option value="ğŸ¥">ğŸ¥ Pasta</option>
              </select>
            </div>
          </div>
          <div class="settings-item">
            <span class="settings-item-label">Mevcut</span>
            <label class="toggle-switch">
              <input type="checkbox" id="menuAvailable" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" onclick="hideMenuModal()">Ä°ptal</button>
        <button class="btn btn-save" onclick="saveMenuItem()">Kaydet</button>
      </div>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  
  <!-- App Scripts -->
  <script src="js/firebase-config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/widgets/calendar.js"></script>
  <script src="js/widgets/gallery.js"></script>
  <script src="js/widgets/announcement.js"></script>
  <script src="js/widgets/menu.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
